<nav class="navbar navbar-expand-lg navbar-light px-3">
  <!-- ===== MOBILE HEADER ===== -->
  <div class="d-flex d-lg-none w-100 justify-content-between align-items-center">
    <!-- Toggler on left -->
    <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse"
      data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Centered logo -->
    <a class="navbar-brand mx-auto mobile-logo" routerLink="/">
      <img src="assets/Logo/NovelList.png" alt="Logo" height="40" />
    </a>

    <!-- Icons on right -->
    <div class="d-flex align-items-center gap-3">
      <a routerLink="/Wishlist" class="position-relative" (click)="closeMenu()">
        <i class="bi bi-heart fs-5"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-circle bg-secondary">
          {{ wishlistService.wishlist().totalQuantity }}
        </span>
      </a>
      <a routerLink="/Cart" class="position-relative" (click)="closeMenu()">
        <i class="bi bi-cart fs-5"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-circle bg-danger">
          {{ cartService.cart().totalQuantity }}
        </span>
      </a>
    </div>
  </div>

  <!-- ===== DESKTOP HEADER ===== -->
  <div class="d-none d-lg-flex w-100 align-items-center justify-content-between">
    <!-- Left: logo -->
    <a class="navbar-brand" routerLink="/">
      <img src="assets/Logo/NovelList.png" alt="Logo" height="50" />
    </a>

    <!-- Middle: links -->
    <ul class="navbar-nav me-auto ms-3 gap-2">
      <li class="nav-item"><a class="nav-link" routerLink="/Browse">Browse</a></li>
      <li class="nav-item"><a class="nav-link" routerLink="/ContactUs">Contact Us</a></li>
      <li class="nav-item"><a class="nav-link" routerLink="/about-us">About Us</a></li>
      @if (userRole === 'admin') {
      <li class="nav-item"><a class="nav-link" routerLink="/dashboard">Dashboard</a></li>
      }
      <li class="nav-item"><a class="nav-link" (click)="onLogout()">Logout</a></li>
    </ul>

    <!-- Right: search + icons + avatar -->
    <div class="d-flex align-items-center gap-3">
      <ng-content></ng-content>
      <app-search></app-search>
      <a class="position-relative wishlist-icon" routerLink="/Wishlist">
        <i class="bi bi-heart fs-4"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-circle bg-secondary">
          {{ wishlistService.wishlist().totalQuantity }}
        </span>
      </a>
      <a class="position-relative cart-icon" routerLink="/Cart">
        <i class="bi bi-cart fs-4"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-circle bg-danger">
          {{ cartService.cart().totalQuantity }}
        </span>
      </a>
      <a routerLink="/profile">
        <img src="https://cdn.pixabay.com/photo/2020/07/01/12/58/icon-5359553_1280.png" alt="Avatar"
          class="rounded-circle" width="32" height="32" />
      </a>
    </div>
  </div>

  <!-- ===== COLLAPSE MENU (mobile links) ===== -->
  <div class="collapse navbar-collapse d-lg-none" id="navbarContent">
    <div class="pt-3 pb-2 ps-3">
      <a routerLink="/profile" (click)="closeMenu()" class="d-inline-flex align-items-center gap-2">
        <img src="https://cdn.pixabay.com/photo/2020/07/01/12/58/icon-5359553_1280.png" alt="Avatar"
          class="rounded-circle" width="40" height="40" style="object-fit: cover;" />
      </a>
    </div>
    <ul class="navbar-nav mb-2 gap-2">
      <li class="nav-item"><a class="nav-link" routerLink="/Browse" (click)="closeMenu()">Browse</a></li>
      <li class="nav-item"><a class="nav-link" routerLink="/ContactUs" (click)="closeMenu()">Contact Us</a></li>
      <li class="nav-item"><a class="nav-link" routerLink="/about-us" (click)="closeMenu()">About Us</a></li>
      @if (userRole === 'admin') {
      <li class="nav-item"><a class="nav-link" routerLink="/dashboard" (click)="closeMenu()">Dashboard</a></li>
      }
      <li class="nav-item"><a class="nav-link" (click)="onLogout(); closeMenu()">Logout</a></li>
    </ul>
  </div>

</nav>